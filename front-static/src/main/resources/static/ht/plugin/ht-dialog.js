!function(k,T){"use strict";var o="ht",U=k[o],B="px",V="left",J="top",Q="bottom",F="right",z="innerHTML",w="className",f="",b="width",r="height",p="string",d="position",n="absolute",G="0",v="opacity",C="background",h=U.Default,q=h.getInternal(),j=U.Color,D=h.animate,l=h.isTouchable,O=null,Z=(Math.sqrt,k.parseInt),L=k.setTimeout,E=(Math.round,j.titleIconBackground),e=function(S){return typeof S===p||S instanceof String},Y=function(){return document},I=function(s){return Y().createElement(s)},m=function(){var E=I("div");return E.tabIndex=-1,E.style.outline="none",E},$=function(){return I("canvas")},c=function(c,e){t(c,"-webkit-transform",e),t(c,"-ms-transform",e),t(c,"transform",e)},t=function(t,C,j){t.style.setProperty(C,j,O)},x=function(O,r,q){h.def(U.widget[O],r,q)},g=function(T,c){T.appendChild(c)},u=function(){return Y().documentElement},R=function(){return u().clientWidth},P=function(){return u().clientHeight},X=function(g,j,Y,c){g.addEventListener(j,Y,!!c)},H=function(o){var $=o.touches[0];return $?$:o.changedTouches[0]};q.addMethod(h,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:E},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:E}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:E},{type:"rect",rect:[10,10,80,20],background:E}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:E},{type:"rect",rect:[10,34,56,14],background:E},{type:"rect",rect:[34,10,56,14],background:E},{type:"rect",rect:[82,10,8,56],background:E},{type:"rect",rect:[66,62,24,8],background:E}]},dialogTitleLabelColor:h.labelSelectColor,dialogTitleLabelFont:(l?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:h.labelFont,dialogTitleBackground:j.titleBackground,dialogHeaderBackground:j.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var _=function(e){var w=this;w.$1d=e,w.addListeners()};h.def(_,T,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(c){var G=this,U=G.$1d,y=U.$6d,m=U._config,f=U.$7d,O=c,w=c.target;if(f.contains(w)||h.preventDefault(c),h.isLeftButton(c)){l&&(O=H(c));var x=G.$8d={x:O.pageX,y:O.pageY};G.$9d={x:x.x,y:x.y},!m.maximized&&m.draggable&&y.contains(w)&&(G.$4d=!0,h.startDragging(G,c)),G.handle_mousemove(c)&&(G.$2d=!0,h.startDragging(G,c)),f.contains(c.target)||U.$41d.focus()}},handle_mousedown:function(W){this.handle_touchstart(W)},handle_touchend:function(l){if(h.isLeftButton(l)&&!this.$5d&&!this.$3d){var A=this,n=A.$1d,v=l.target,$=n._config,U=n.$18d,Q=n.$16d;for($.closable&&U.contains(v)&&n.hide(),$.maximizable&&Q.contains(v)&&($.maximized?n.restore():n.maximize());v&&(v.className||"").indexOf("dialog-button")<0;)v=v.parentNode;v&&v.buttonItem&&n.action&&n.action(v.buttonItem,l),delete A.$8d,delete A.$9d}},handle_mouseup:function(M){this.handle_touchend(M)},handleWindowTouchEnd:function(c){var b=this,k=b.$1d,V=k.$10d;b.$2d&&b.$3d?V.fire({kind:"endResize",target:k,originEvent:c}):b.$4d&&b.$5d&&V.fire({kind:"endMove",target:k,originEvent:c}),this.clear()},handleWindowMouseUp:function(d){this.handleWindowTouchEnd(d)},handle_mousemove:function(X){var A=this.$1d._config;if(A.maximized)return!1;if("w"!==A.resizeMode&&"h"!==A.resizeMode&&"wh"!==A.resizeMode)return!1;var e=this,p=e.getView(),x=p.querySelector(".resize-area"),n=x.getBoundingClientRect(),M={x:n.left,y:n.top,width:n.width,height:n.height};X=l?H(X):X;var Y=X.clientX,o=X.clientY,D={x:Y,y:o};return h.containsPoint(M,D)?(t(p,"cursor","nwse-resize"),!0):(t(p,"cursor",f),void 0)},handleWindowTouchMove:function(s){s.preventDefault();var S=s;l&&(S=H(s));var i=this,G=i.$8d,_=i.$9d;if(!(_.x==G.x&&_.y==G.y&&h.getDistance(_,{x:S.pageX,y:S.pageY})<=1)){var p=i.$1d,g=p._config,a=p.$21d,Y=g.resizeMode||"wh",L=S.pageX-G.x,d=S.pageY-G.y;if(i.$2d){var A=a.offsetWidth,D=a.offsetHeight,W=A+L,c=D+d;if(W=Math.max(W,50),c=Math.max(c,50),"center"===g.position||g.position==O){var u={},T=a.getBoundingClientRect();u.x=T.left,u.y=T.top,g.position=u}"w"===Y?(p.setSize(W,D),G.x+=W-A):"h"===Y?(p.setSize(A,c),G.y+=c-D):"wh"===Y&&(p.setSize(W,c),G.x+=W-A,G.y+=c-D),i.$3d?p.$10d.fire({kind:"betweenResize",target:p,originEvent:s}):(i.$3d=!0,p.$10d.fire({kind:"beginResize",target:p,originEvent:s}))}else if(i.$4d){var K=a.getBoundingClientRect(),f=K.width,z=K.height,w=R(),q=P(),C=Z(a.style.left)||0,m=Z(a.style.top)||0,k=C+L,n=m+d,X=p.adjustPosition({x:k,y:n},{width:f,height:z},{width:w,height:q});X&&(k=X.x,n=X.y);var o=k-C,b=n-m;t(a,V,k+B),t(a,J,n+B),G.x+=o,G.y+=b,g.position={x:k,y:n},i.$5d?p.$10d.fire({kind:"betweenMove",target:p,originEvent:s}):(i.$5d=!0,p.$10d.fire({kind:"beginMove",target:p,originEvent:s}))}}},handleWindowMouseMove:function(W){this.handleWindowTouchMove(W)},handleWindowResize:function(){var d=this,A=d,Q=A._config,z=A.$21d,e=R(),I=P(),w=Q.width,X=Q.height,C=Q.position||"center";Q.maximized?(t(z,b,e+B),t(z,r,I+B),t(z,J,G),t(z,V,G)):(t(z,b,w+B),t(z,r,X+B),"center"===C?(t(z,V,(e-w)/2+B),t(z,J,(I-X)/2+B)):(t(z,V,C.x+B),t(z,J,C.y+B))),A.iv()},handle_mousewheel:function(s){s.stopPropagation()},handle_DOMMouseScroll:function(Q){Q.stopPropagation()}}),U.widget.Dialog=function(f){var r=this,b=r._view=q.createView(null,r);b[w]="ht-widget-dialog",t(b,d,n),h.baseZIndex!=O&&t(b,"z-index",h.baseZIndex+"");var H=r.$11d=new _(r);r.bindingHandleWindowResize=H.handleWindowResize.bind(r),r.$10d=new U.Notifier,f&&r.setConfig(f)},x("Dialog",T,{ms_v:1,setTitle:function(f){this._config.title=f,this.getView().querySelector(".dialog-container-title span").innerHTML=f},$31d:function(){var A=this,y=A.$6d=m(),Q=A._config,$=A.$12d=A.$13d();y[w]="dialog-container-title",t(y,"cursor","default"),t(y,"white-space","nowrap"),t(y,"overflow","hidden"),t(y,"font",h.dialogTitleLabelFont),t(y,C,Q.titleBackground||h.dialogTitleBackground),t(y,"color",Q.titleColor||h.dialogTitleLabelColor);var N=I("span"),K=A.$25d();if(Q.titleAlign&&t(y,"text-align",Q.titleAlign),Q.titleIcon){var v=A.$14d=A.$15d();g(y,v)}if(N[z]=Q.title||"&nbsp;",g(y,N),Q.maximizable){var O=A.$16d=A.$17d();g($,O)}if(Q.closable){var S=A.$18d=A.$19d();g($,S)}return g(y,$),t(y,"display","block"),t(y,"line-height",K+B),y},$13d:function(){var N=m();return t(N,d,n),t(N,V,G),t(N,F,5+B),t(N,J,G),t(N,Q,G),t(N,"text-align",F),t(N,"white-space","nowrap"),N[w]="dialog-title-controls",N},$20d:function(){var S=this.$21d=m(),n=this._config,y=n.borderWidth;return t(S,d,"fixed"),t(S,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),t(S,"padding",G+" "+y+B+" "+y+B+" "+y+B),t(S,"box-sizing","border-box"),t(S,"-moz-box-sizing","border-box"),S[w]="dialog-container",t(S,C,n.titleBackground||h.dialogTitleBackground),S},$22d:function(){var Z,l=this,L=l._config,u=l.$7d=m(),y=L.content,o=0,N=L.contentPadding||0;L.buttons!=O&&L.buttons.length>0&&(o=32),e(y)?u[z]=y:y.getView?(Z=y.getView(),g(u,Z)):(Z=y,g(u,Z)),t(u,d,n),t(u,"font",h.dialogContentLabelFont),U.Default.appendToScreen(u);var C=u.offsetWidth+1,x=u.offsetHeight,E=l.$25d();return L.width==O&&(L.width=C+10+2*N),L.height==O&&(L.height=x+E+o+5+2*N),U.Default.removeHTML(u),Z&&(t(Z,"box-sizing","border-box"),t(Z,"-moz-box-sizing","border-box"),t(Z,b,"100%"),t(Z,r,"100%")),u[w]="dialog-content",t(u,J,E+N+B),t(u,Q,o+N+B),t(u,V,N+B),t(u,F,N+B),t(u,"overflow","hidden"),u},getOverlayDiv:function(){return this.$41d},$23d:function(){var Z=this.$41d=m();return Z[w]="dialog-overlay",t(Z,b,"100%"),t(Z,r,"100%"),t(Z,d,"fixed"),t(Z,J,G),t(Z,V,G),t(Z,C,"rgba(235, 235, 235, 0.7)"),Z},_config:O,setSize:function(b,i){var I=this,l=I._config;l&&(l.width=b,l.height=i,I.isShowing()&&(I.bindingHandleWindowResize(),I.iv()))},getConfig:function(){return this._config},$24d:function(){var z=this._config,I=z.titleIconSize||16;return l&&(I*=1.2),I},$25d:function(){var n=this._config,O=n.titleHeight||h.widgetTitleHeight;return O},$26d:function(P){t(P,"cursor","pointer"),t(P,"display","inline-block"),t(P,"margin-right",(l?8:4)+B),t(P,"vertical-align",J)},$27d:function(){var W=this.$30d=m(),u=10;return l&&(u=20),t(W,b,u+B),t(W,r,u+B),t(W,d,n),t(W,Q,G),t(W,F,G),W[w]="resize-area",W},$15d:function(){var l=this,r=$();r[w]="dialog-title-control dialog-title-control-icon";var P=l.$25d(),s=l.$24d();return l.$26d(r),q.setCanvas(r,s,P),r},$17d:function(){var E=$();E[w]="dialog-title-control dialog-title-control-maximize";var O=this.$25d(),c=this.$24d();return this.$26d(E),q.setCanvas(E,c,O),E},$19d:function(){var v=$();v[w]="dialog-title-control dialog-title-control-close";var U=this.$25d(),f=this.$24d();return this.$26d(v),q.setCanvas(v,f,U),v},$28d:function(){var S=m();return t(S,C,"white"),t(S,b,"100%"),t(S,r,"100%"),t(S,d,"relative"),S},$29d:function(){var S=this,R=m();t(R,"line-height",32+B),t(R,d,n),t(R,Q,G),t(R,V,G),t(R,"white-space","nowrap"),t(R,"overflow","hidden"),t(R,F,G),t(R,C,h.dialogHeaderBackground),R[w]="dialog-container-buttons";var N=this._config,X=N.buttonsAlign||F,H=0;return t(R,"text-align",X),S.$42d=[],N.buttons.forEach(function(e){var u=new U.widget.Button,n=u.getView();n[w]="dialog-button "+e.className,n.buttonItem=e,S.$42d.push(u),u.setBorderColor(O),u.setBackground(h.dialogButtonBackground),u.setSelectBackground(h.dialogButtonSelectBackground),u.setLabelColor(h.dialogButtonLabelColor),t(n,d,"static"),t(n,"display","inline-block"),t(n,"text-align",V),t(n,"height",24+B);var E=l?10:5;X===V||X===F?t(n,"margin-"+X,E+B):0===H||t(n,"margin-"+V,E+B),t(n,"vertical-align","middle");var $=h.getTextSize(u.getLabelFont(),e.label).width+10;u.onClicked=function(m){e.action&&e.action.call(S,e,m)},u.setLabel(e.label),t(n,b,$+B),g(R,u.getView()),H++}),R},setConfig:function(H){if(H){var $=this,N=$._view;$._config=H,$.action=H.action,N[z]=f,H.borderWidth==O&&(H.borderWidth=5);var D=$.$23d(),E=$.$28d(),_=$.$31d(),B=$.$22d(),c=$.$20d(),d=$.$30d=$.$27d();if(g(N,D),g(N,c),g(c,E),g(E,_),g(E,B),H.buttons!=O&&H.buttons.length>0){var T=$.$29d();g(E,T)}g(c,d),H.maximized?(H.maximized=!1,$.bindingHandleWindowResize(),$.maximize(!0)):$.bindingHandleWindowResize(),$.isShowing()&&$.iv()}},hide:function(){var e=this,j=e.$21d,l=e.$41d,S=e._view;S[w]="ht-widget-dialog",D(j).duration(200).scale(.7).set(v,G).end(function(){e.onHidden&&e.onHidden(),U.Default.removeHTML(S),e.$10d.fire({kind:"hide",target:e})}),D(l).duration(200).set(v,G).end(),k.removeEventListener("resize",e.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(d){this.$41d.style.display=d?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var E=this,y=E._config,g=E.$21d;c(g,f),E.iv(),y.maximized?E.$10d.fire({kind:"maximize",target:E}):E.$10d.fire({kind:"restore",target:E})},maximize:function(l){var q=this,X=q.$21d,s=q._config;if(!s.maximized){s.maximized=!0,q.$33d(),q.$16d[w]="dialog-title-control dialog-title-control-minimize";var O=R(),A=P(),T=s.width,v=s.height,h=Z(X.style.left)||0,t=Z(X.style.top)||0;q.$36d=T,q.$37d=v,q.$34d=h,q.$35d=t;var S=l?0:200;D(X).duration(S).set(V,G).set(J,G).set(b,O+B).set(r,A+B).end(function(){q.$32d()})}},restore:function(){var s=this,A=s.$34d,Z=s.$35d,e=s.$36d,T=s.$37d,$=s._config;if($.maximized&&($.maximized=!1,s.$33d(),s.$16d[w]="dialog-title-control dialog-title-control-maximize",s.isShowing()&&A!=O&&Z!=O&&e!=O&&T!=O)){var z=s.$21d;D(z).duration(200).set(V,A+B).set(J,Z+B).set(b,e+B).set(r,T+B).end(function(){s.$32d()})}delete s.$34d,delete s.$35d,delete s.$36d,delete s.$37d},show:function(){var H=this,Q=H._view,K=H._config,z=H.$21d,Z=H.$41d;K&&K.zIndex!=O&&t(Q,"z-index",K.zIndex+f),U.Default.appendToScreen(Q),c(z,"scale(0.7)"),t(z,v,G),H.iv(),H.validate(),H._view[w]+=" dialog-show",L(function(){D(z).duration(200).scale(1).set(v,"1").end(function(){t(z,b,z.clientWidth+B),t(z,r,z.clientHeight+B),H.onShown&&H.onShown(),H.$10d.fire({kind:"show",target:H})}),D(Z).duration(200).set(v,"1").end(),X(k,"resize",H.bindingHandleWindowResize)},30)},setPosition:function(j){var U=this.$21d;U.style.left=j.x+"px",U.style.top=j.y+"px"},addEventListener:function(l,M,X){this.$10d.add(l,M,X)},removeEventListener:function(l,D){this.$10d.remove(l,D)},$38d:function(l,O,j,k){var C=q.initContext(l);q.translateAndScale(C,0,0,1),C.clearRect(0,0,j,j);var S=(j-k)/2;h.drawStretchImage(C,h.getImage(O),"fill",0,S,k,k),C.restore()},$33d:function(){var b=this,H=b._config,j=b.$16d,a=H.maximized?h.dialogRestoreIcon:h.dialogMaximizeIcon;if(j&&a){var p=b.$25d(),F=b.$24d();b.$38d(j,h.getImage(a),p,F)}},$39d:function(){var B=this,_=B._config,q=B.$14d,U=_.titleIcon;if(q&&U){var H=B.$25d(),D=B.$24d();B.$38d(q,h.getImage(U),H,D)}},$40d:function(){var K=this,i=K.$18d,C=h.dialogCloseIcon;if(i&&C){var $=K.$25d(),S=K.$24d();K.$38d(i,h.getImage(C),$,S)}},invalidate:function(K){var d=this,L=d.$42d;d._68I||(d._68I=1,h.callLater(d.validate,d,O,K),d.onInvalidated&&d.onInvalidated(),d.fireViewEvent("invalidate"));var l=d._config.content;l.invalidate&&l.invalidate(),L&&L.forEach(function(l){l.iv()})},validateImpl:function(){var u=this;u.$40d(),u.$33d(),u.$39d()},adjustPosition:function(r,k,g){var O=k.width,A=k.height,n=g.width,$=g.height,s=r.x,h=r.y,p=this._config,I=p.minDragSize||20;return"inside"===p.dragMode?(s+O>n&&(s=n-O),h+A>$&&(h=$-A),0>s&&(s=0),0>h&&(h=0)):(null==p.dragMode||"none"===p.dragMode)&&(-O+I>s&&(s=-O+I),s>n-I&&(s=n-I),h>$-I&&(h=$-I),0>h&&(h=0)),{x:s,y:h}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);