!function(c,d){"use strict";var i="ht",g=c[i],K="innerHTML",t="className",L=null,s="px",l=g.Default,N=l.getInternal(),X="0",b=function(){return document},U=function(T){return b().createElement(T)},u=function(){return U("canvas")},n=function(E,V,n){E.style.setProperty(V,n,L)},R=function(t,X,W){l.def(g.widget[t],X,W)},h=function(S,l){S.appendChild(l)},W=function(g,x){g.removeChild(x)},w=function(V,R,e,H){V.addEventListener(R,e,!!H)},m=function(p,h,m,d){p.removeEventListener(h,m,!!d)},v=l.isTouchable;N.addMethod(l,{menuLabelFont:(v?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),g.widget.Menu=function(p){var V=this,R=V._view=N.createView(null,V),r=V.$1g=new g.widget.ContextMenu,j=U("ul");r._r=!0,r._view[t]+=" ht-widget-dropdownmenu",R[t]="ht-widget-menu",j[t]="header",n(R,"margin",X),n(R,"padding",X),n(R,"background",l.menuBackground),n(R,"-webkit-user-select","none"),n(R,"-moz-user-select","none"),n(R,"user-select","none"),n(R,"text-align","left"),n(R,"border-bottom",l.menuSeparatorWidth+"px solid "+l.menuSeparatorColor),n(R,"cursor","default"),n(R,"overflow","auto"),n(R,"white-space","nowrap"),n(R,"font",l.menuLabelFont),n(R,"color",l.menuLabelColor),n(R,"box-sizing","border-box"),n(R,"-moz-box-sizing","border-box"),n(j,"list-style","none"),n(j,"margin",X),n(j,"padding",X),n(j,"display","inline-block"),h(R,j),V.setItems(p),V.$2g=function(a){V.$3g(a)},V.$4g=function(T){V.$5g(T)},V.$6g=function(x){V.$7g(x)},V.$8g=function(q){V.$9g(q)},V.$9b=function(j){V.$10g(j)},V._autoShow=!0,V.setAutoShow(!1),r.afterHide=function(){V.$11g()},r.afterShow=function(){V.$12g()},m(b(),"keydown",r.$3b),V.$3b=function(z){V.$13g(z)},V.invalidate()},R("Menu",d,{_items:L,$14g:l.menuHoverBackground,$15g:l.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(o){var X=this;if(X.$21g=o,X.setItems(X._items),"largeicons"===o){for(var O=X._view.querySelectorAll(".header-item"),f=0,L=0;L<O.length;L++){var r=O[L];f=Math.max(f,r.clientWidth)}for(var L=0;L<O.length;L++){var r=O[L];n(r,"min-width",f+s)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(A){this.$22g=A;for(var y=this._view.querySelectorAll(".header-item"),V=0;V<y.length;V++){var i=y[V];n(i,"margin-left",A+s),n(i,"margin-right",A+s)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(k){this.$23g=k;for(var p=this._view.querySelectorAll(".header-item"),E=0;E<p.length;E++){var l=p[E];n(l,"margin-top",k+s),n(l,"margin-bottom",k+s)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(p){this.$24g=p,n(this._view,"text-align",p)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var r=this,j=r._enableGlobalKey;j===!1&&(w(b(),"keydown",r.$3b),r._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,m(b(),"keydown",this.$3b)},setHoverBackground:function(n){this.$14g=n},setHoverColor:function(F){this.$15g=F},setItems:function(i){var p=this,V=p._view,d=p.$21g;if(p._items=i,V.children[0][K]="",p.$16g={},i&&i.length){for(var Q=V.children[0],Y=0,A=b().createDocumentFragment();Y<i.length;Y++){var f=i[Y],D=U("li"),x=U("span");if(f.icon){var j=u();j[t]="menu-item-icon","smallicons"===d?(n(j,"height","1.2em"),n(j,"width","1.2em"),n(j,"vertical-align","middle")):(n(j,"height","32px"),n(j,"width","32px"),n(j,"display","block"),n(j,"margin","0 auto")),j.$20g=f.icon,h(D,j)}D[t]="header-item",n(D,"display","inline-block"),n(D,"vertical-align","top"),n(D,"padding","0 1.2em"),n(D,"line-height","1.8em"),"largeicons"===d&&n(D,"text-align","center"),n(D,"background-color","rgba(0,0,0,0)"),D.setAttribute("data-index",Y),p.$16g[Y]=f.items,x[K]=f.label,"iconsonly"!==d&&h(D,x),h(A,D)}h(Q,A)}},showDropdownMenu:function(Z){var n=this,t=n.$16g[Z],R=n.$1g,z=n._view.children[0].children[Z],N=n.$17g;if(z&&z!==N){N&&n.hideDropdownMenu();var F=z.getBoundingClientRect(),B=l.getWindowInfo();n.$17g=z,R.setItems(t),R.show(F.left+B.left,F.top+F.height+B.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(V,s){var D=this,F=D._items;return F&&0!==F.length?D.$1g.getItemByProperty(V,s,F):L},$12g:function(){var c=this,D=c.$17g;D.style.background=c.$14g,D.style.color=c.$15g,c._autoShow||w(b(),v?"touchstart":"mousedown",c.$9b)},$11g:function(){var D=this,c=D.$17g;c&&(c.style.background="",c.style.color="",D.$17g=L),m(b(),v?"touchstart":"mousedown",D.$9b)},$10g:function(V){var I=this,d=I._view,F=I.$1g,U=d.children[0];!b().body.contains(d)||U.contains(V.target)||F._view.contains(V.target)||I.hideDropdownMenu()},$13g:function(s){var k=this,v=k.$1g;b().body.contains(k._view)&&v.$13b.$4b.call(v.$13b,s,k._items)},setAutoShow:function(q){var C=this,r=C.$1g,D=C._view;C._autoShow!==q&&(C._autoShow?(m(D,"mouseover",C.$2g),m(D,"mouseout",C.$4g),m(r._view,"mouseout",C.$4g),v||(w(D,"mouseover",C.$8g),w(D,"mouseout",C.$8g)),w(D,v?"touchstart":"mousedown",C.$6g)):(m(D,"mouseover",C.$8g),m(D,"mouseout",C.$8g),m(D,v?"touchstart":"mousedown",C.$6g),m(b(),v?"touchstart":"mousedown",C.$9b),v||(w(D,"mouseover",C.$2g),w(D,"mouseout",C.$4g),w(r._view,"mouseout",C.$4g))),C._autoShow=q)},$3g:function(y){var A=this,U=A._view.children[0],O=y.target;if(U!==O&&U.contains(O)){for(;"header-item"!==O[t];)O=O.parentNode;A.showDropdownMenu(O.getAttribute("data-index"))}},$5g:function(q){var y=this,H=y._view.children[0],i=y.$1g,t=q.target,A=q.relatedTarget;!H.contains(t)&&!i._view.contains(t)||H.contains(A)||i._view.contains(A)||y.hideDropdownMenu()},$7g:function(P){P.preventDefault();var z=this,A=z._view.children[0],L=z.$1g,V=P.target;if(l.isLeftButton(P)&&A!==V&&A.contains(V))if(v){for(;"header-item"!==V[t];)V=V.parentNode;var R=V.getAttribute("data-index"),L=z.$1g,G=z._view.children[0].children[R],Z=z.$17g;L.isShowing()&&z.hideDropdownMenu(),G!==Z&&z.showDropdownMenu(R)}else if(L.isShowing())z.hideDropdownMenu();else{for(;"header-item"!==V[t];)V=V.parentNode;z.showDropdownMenu(V.getAttribute("data-index"))}},$9g:function(i){var Q=this,s=Q._view,M=Q.$1g,E=i.target;if(s.contains(E)){for(var D=s.querySelectorAll(".header-item"),H=L,F=0;F<D.length;F++){var t=D[F];t.style.background="",t.style.color="","mouseover"===i.type?t.contains(E)&&(H=t):"mouseout"===i.type&&M.isShowing()&&Q.$17g===t&&(H=t)}M.isShowing()&&(H||(H=Q.$17g),Q.showDropdownMenu(H.getAttribute("data-index"))),H&&(H.style.background=Q.$14g,H.style.color=Q.$15g)}},getShowingMenuIndex:function(){var b=this.$17g;return b?b.getAttribute("data-index"):-1},addTo:function(s){var z=this,V=z._view;h(s,V),z.invalidate()},dispose:function(){var k=this,z=k._view,q=k.$1g;z&&(k._autoShow?(m(z,"mouseover",k.$2g),m(z,"mouseout",k.$4g),m(q._view,"mouseout",k.$4g)):(m(z,"mouseover",k.$8g),m(z,"mouseout",k.$8g),m(z,v?"touchstart":"mousedown",k.$6g),m(b(),v?"touchstart":"mousedown",k.$9b)),m(b(),"keydown",k.$3b),q.dispose(),z.parentNode&&W(z.parentNode,z),k._view=k.$1g=k.$16g=k._items=k.$17g=k.$2g=k.$4g=k.$6g=k.$8g=k.$9b=k.$3b=L)},$19g:function(u,D,X,O){var s=N.initContext(u);N.translateAndScale(s,0,0,1),s.clearRect(0,0,X,O),l.drawStretchImage(s,l.getImage(D),"fill",0,0,X,O),s.restore()},validateImpl:function(){var z,r,G,V=this,u=V._view,K=u.querySelectorAll(".menu-item-icon");for(G=0;G<K.length;G++){var P=K[G];z=P.clientWidth,r=P.clientHeight,z&&r&&(N.setCanvas(P,z,r),V.$19g(P,l.getImage(P.$20g),z,r))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);